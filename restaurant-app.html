<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Greens Cafe - Order Management System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fadeIn { animation: fadeIn 0.6s ease-out; }
        * { box-sizing: border-box; }
    </style>
</head>
<body class="m-0 p-0">
    <div id="app"></div>

    <script>
        // Menu Data
        const menuData = {
            'Main Courses': [
                { id: 1, name: 'Grilled Chicken', description: 'Juicy grilled chicken with herbs', price: 12.99 },
                { id: 2, name: 'Beef Burger', description: 'Classic burger with cheese and fries', price: 10.99 },
                { id: 3, name: 'Pasta Carbonara', description: 'Creamy pasta with bacon', price: 11.99 },
                { id: 4, name: 'Caesar Salad', description: 'Fresh romaine with parmesan', price: 8.99 },
            ],
            'Beverages': [
                { id: 5, name: 'Coca Cola', description: 'Chilled soft drink', price: 2.99 },
                { id: 6, name: 'Fresh Orange Juice', description: 'Freshly squeezed', price: 4.99 },
                { id: 7, name: 'Cappuccino', description: 'Italian coffee specialty', price: 5.99 },
                { id: 8, name: 'Iced Tea', description: 'Refreshing lemon tea', price: 3.99 },
            ],
        };

        // Mock Users
        const mockUsers = {
            waiters: [
                { uid: '1001234567', password: 'waiter123', name: 'John Doe', email: 'john@cafe.com' },
                { uid: '1001234568', password: 'waiter123', name: 'Jane Smith', email: 'jane@cafe.com' },
            ],
            owners: [
                { uid: '2000000001', password: 'owner123', name: 'Michael Anderson', email: 'michael@cafe.com' },
            ],
        };

        // State
        let state = {
            view: 'landing',
            currentRole: null,
            currentUser: null,
            cart: [],
            orders: [
                { id: 1001, tableNo: 5, items: 'Grilled Chicken, Coca Cola', total: 15.98, status: 'pending', waiter: 'John Doe', date: '2024-11-30' },
                { id: 1002, tableNo: 3, items: 'Beef Burger, Orange Juice', total: 15.98, status: 'preparing', waiter: 'Jane Smith', date: '2024-11-30' },
                { id: 1000, tableNo: 2, items: 'Pasta Carbonara, Caesar Salad', total: 20.98, status: 'completed', waiter: 'John Doe', date: '2024-11-30' },
            ]
        };

        // Helper Functions
        function setState(newState) {
            state = { ...state, ...newState };
            render();
        }

        function addToCart(item) {
            const existing = state.cart.find(i => i.id === item.id);
            if (existing) {
                setState({ cart: state.cart.map(i => i.id === item.id ? { ...i, quantity: i.quantity + 1 } : i) });
            } else {
                setState({ cart: [...state.cart, { ...item, quantity: 1 }] });
            }
        }

        function removeFromCart(itemId) {
            setState({ cart: state.cart.filter(i => i.id !== itemId) });
        }

        function updateQuantity(itemId, change) {
            setState({
                cart: state.cart.map(i => {
                    if (i.id === itemId) {
                        const newQty = i.quantity + change;
                        return newQty > 0 ? { ...i, quantity: newQty } : i;
                    }
                    return i;
                }).filter(i => i.quantity > 0)
            });
        }

        function calculateTotal() {
            return state.cart.reduce((sum, item) => sum + (item.price * item.quantity), 0).toFixed(2);
        }

        function handleLogin(uid, password, role) {
            const users = role === 'waiter' ? mockUsers.waiters : mockUsers.owners;
            const user = users.find(u => u.uid === uid && u.password === password);
            
            if (user) {
                setState({ currentUser: user, currentRole: role, view: role });
            } else {
                alert('Invalid credentials');
            }
        }

        // Render Functions
        function render() {
            const app = document.getElementById('app');
            
            if (state.view === 'landing') {
                app.innerHTML = renderLanding();
            } else if (state.view === 'roleSelect') {
                app.innerHTML = renderRoleSelect();
            } else if (state.view === 'login') {
                app.innerHTML = renderLogin();
            } else if (state.view === 'customer') {
                app.innerHTML = renderCustomer();
            } else if (state.view === 'waiter') {
                app.innerHTML = renderWaiter();
            } else if (state.view === 'owner') {
                app.innerHTML = renderOwner();
            }
            
            attachEventListeners();
        }

        function renderLanding() {
            return `
                <div class="min-h-screen bg-gradient-to-br from-amber-50 to-orange-100 p-8">
                    <div class="max-w-6xl mx-auto text-center animate-fadeIn">
                        <div class="text-8xl mb-4">‚òï</div>
                        <h1 class="text-6xl font-bold text-amber-800 mb-4">Greens Cafe</h1>
                        <p class="text-2xl text-amber-600 italic mb-8">"Where Every Sip Tells a Story"</p>
                        
                        <div class="bg-white/80 backdrop-blur rounded-2xl p-8 shadow-xl max-w-3xl mx-auto mb-8">
                            <p class="text-gray-700 leading-relaxed text-lg">
                                Welcome to Greens Cafe, your perfect destination for exceptional coffee, delicious food, and warm hospitality. 
                                Established in 2025, we serve the community with passion and dedication.
                            </p>
                        </div>

                        <div class="bg-white/80 backdrop-blur rounded-2xl p-8 shadow-xl max-w-3xl mx-auto mb-8">
                            <h3 class="text-2xl font-bold text-amber-800 mb-6">About Our Establishment</h3>
                            <div class="grid grid-cols-2 gap-4 text-left">
                                <div><strong>Owner:</strong> Michael Anderson</div>
                                <div><strong>Co-Owner:</strong> Sarah Anderson</div>
                                <div><strong>Contact:</strong> +1 (555) 123-4567</div>
                                <div><strong>Location:</strong> 123 Coffee Street</div>
                                <div><strong>Hours:</strong> 7:00 AM - 10:00 PM</div>
                                <div><strong>Code:</strong> MC-2456</div>
                            </div>
                        </div>

                        <div class="grid grid-cols-3 gap-4 mb-8">
                            <div class="bg-white/80 rounded-xl p-6 shadow-lg">
                                <div class="text-4xl mb-3">üåê</div>
                                <h4 class="font-bold text-amber-800 mb-2">Free WiFi</h4>
                                <p class="text-sm text-gray-600">High-speed internet</p>
                            </div>
                            <div class="bg-white/80 rounded-xl p-6 shadow-lg">
                                <div class="text-4xl mb-3">üéµ</div>
                                <h4 class="font-bold text-amber-800 mb-2">Live Music</h4>
                                <p class="text-sm text-gray-600">Weekend shows</p>
                            </div>
                            <div class="bg-white/80 rounded-xl p-6 shadow-lg">
                                <div class="text-4xl mb-3">üë∂</div>
                                <h4 class="font-bold text-amber-800 mb-2">Family Friendly</h4>
                                <p class="text-sm text-gray-600">Kids menu</p>
                            </div>
                        </div>

                        <button onclick="setState({view: 'roleSelect'})" class="bg-amber-600 text-white px-12 py-4 rounded-full text-xl font-semibold hover:bg-amber-700 transition-all shadow-lg">
                            Enter Cafe ‚Üí
                        </button>
                    </div>
                </div>
            `;
        }

        function renderRoleSelect() {
            return `
                <div class="min-h-screen bg-gradient-to-br from-gray-900 to-gray-800 flex items-center justify-center p-8">
                    <div class="max-w-4xl w-full">
                        <button onclick="setState({view: 'landing'})" class="text-white mb-8 hover:text-amber-400 transition-colors">
                            ‚Üê Back to Home
                        </button>
                        
                        <h2 class="text-5xl font-bold text-center text-amber-400 mb-12">Select Your Role</h2>
                        
                        <div class="grid grid-cols-3 gap-8">
                            <div class="bg-white/10 backdrop-blur rounded-2xl p-8 text-center hover:bg-white/20 transition-all cursor-pointer" onclick="setState({view: 'customer'})">
                                <div class="text-6xl mb-4">üë§</div>
                                <h3 class="text-2xl font-bold text-white mb-2">Customer</h3>
                                <p class="text-gray-300 mb-6">Browse menu and order</p>
                                <button class="bg-amber-600 text-white px-6 py-2 rounded-lg hover:bg-amber-700 transition-colors">
                                    Continue
                                </button>
                            </div>
                            <div class="bg-white/10 backdrop-blur rounded-2xl p-8 text-center hover:bg-white/20 transition-all cursor-pointer" onclick="setState({currentRole: 'waiter', view: 'login'})">
                                <div class="text-6xl mb-4">üçΩÔ∏è</div>
                                <h3 class="text-2xl font-bold text-white mb-2">Waiter</h3>
                                <p class="text-gray-300 mb-6">Manage orders</p>
                                <button class="bg-amber-600 text-white px-6 py-2 rounded-lg hover:bg-amber-700 transition-colors">
                                    Continue
                                </button>
                            </div>
                            <div class="bg-white/10 backdrop-blur rounded-2xl p-8 text-center hover:bg-white/20 transition-all cursor-pointer" onclick="setState({currentRole: 'owner', view: 'login'})">
                                <div class="text-6xl mb-4">üëî</div>
                                <h3 class="text-2xl font-bold text-white mb-2">Owner</h3>
                                <p class="text-gray-300 mb-6">View analytics</p>
                                <button class="bg-amber-600 text-white px-6 py-2 rounded-lg hover:bg-amber-700 transition-colors">
                                    Continue
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderLogin() {
            return `
                <div class="min-h-screen bg-gradient-to-br from-gray-900 to-gray-800 flex items-center justify-center p-8">
                    <div class="bg-white/10 backdrop-blur rounded-2xl p-8 max-w-md w-full">
                        <button onclick="setState({view: 'roleSelect'})" class="text-white mb-6 hover:text-amber-400">
                            ‚Üê Back
                        </button>
                        
                        <h2 class="text-3xl font-bold text-amber-400 mb-8 text-center">
                            ${state.currentRole === 'waiter' ? 'Waiter' : 'Owner'} Login
                        </h2>
                        
                        <div class="space-y-6">
                            <div>
                                <label class="block text-white mb-2">User ID (UID)</label>
                                <input id="loginUid" type="text" placeholder="e.g., 1001234567" 
                                    value="${state.currentRole === 'waiter' ? '1001234567' : '2000000001'}"
                                    class="w-full bg-white/20 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-400">
                            </div>
                            
                            <div>
                                <label class="block text-white mb-2">Password</label>
                                <input id="loginPassword" type="password" 
                                    value="${state.currentRole === 'waiter' ? 'waiter123' : 'owner123'}"
                                    class="w-full bg-white/20 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-400">
                            </div>
                            
                            <button onclick="doLogin()" class="w-full bg-amber-600 text-white py-3 rounded-lg font-semibold hover:bg-amber-700 transition-colors">
                                Login
                            </button>
                            
                            <p class="text-center text-gray-400 text-sm">
                                Demo credentials are pre-filled for testing
                            </p>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderCustomer() {
            const total = calculateTotal();
            return `
                <div class="min-h-screen bg-gradient-to-br from-gray-900 to-gray-800 p-8">
                    <div class="max-w-7xl mx-auto">
                        <div class="flex justify-between items-center mb-8">
                            <h1 class="text-4xl font-bold text-amber-400">Menu</h1>
                            <button onclick="setState({view: 'roleSelect', cart: []})" class="bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700">
                                Exit
                            </button>
                        </div>

                        <div class="grid grid-cols-3 gap-8">
                            <div class="col-span-2 space-y-8">
                                ${Object.entries(menuData).map(([category, items]) => `
                                    <div>
                                        <h2 class="text-2xl font-bold text-amber-400 mb-4">${category}</h2>
                                        <div class="grid grid-cols-2 gap-4">
                                            ${items.map(item => `
                                                <div class="bg-white/10 backdrop-blur rounded-xl p-6 hover:bg-white/20 transition-all">
                                                    <h3 class="text-xl font-bold text-white mb-2">${item.name}</h3>
                                                    <p class="text-gray-300 text-sm mb-4">${item.description}</p>
                                                    <div class="flex justify-between items-center">
                                                        <span class="text-2xl font-bold text-amber-400">$${item.price}</span>
                                                        <button onclick="addToCart(${JSON.stringify(item).replace(/"/g, '&quot;')})" class="bg-amber-600 text-white px-4 py-2 rounded-lg hover:bg-amber-700">
                                                            + Add
                                                        </button>
                                                    </div>
                                                </div>
                                            `).join('')}
                                        </div>
                                    </div>
                                `).join('')}
                            </div>

                            <div class="bg-white/10 backdrop-blur rounded-xl p-6 h-fit sticky top-8">
                                <h2 class="text-2xl font-bold text-amber-400 mb-4">üõí Your Order</h2>
                                
                                ${state.cart.length === 0 ? `
                                    <p class="text-gray-400 text-center py-8">No items added yet</p>
                                ` : `
                                    <div class="space-y-4 mb-6">
                                        ${state.cart.map(item => `
                                            <div class="bg-white/10 rounded-lg p-4">
                                                <div class="flex justify-between items-start mb-2">
                                                    <span class="text-white font-semibold">${item.name}</span>
                                                    <button onclick="removeFromCart(${item.id})" class="text-red-400 hover:text-red-300">‚úï</button>
                                                </div>
                                                <div class="flex justify-between items-center">
                                                    <div class="flex items-center gap-2">
                                                        <button onclick="updateQuantity(${item.id}, -1)" class="bg-white/20 px-2 py-1 rounded hover:bg-white/30 text-white">-</button>
                                                        <span class="text-white w-8 text-center">${item.quantity}</span>
                                                        <button onclick="updateQuantity(${item.id}, 1)" class="bg-white/20 px-2 py-1 rounded hover:bg-white/30 text-white">+</button>
                                                    </div>
                                                    <span class="text-amber-400 font-bold">$${(item.price * item.quantity).toFixed(2)}</span>
                                                </div>
                                            </div>
                                        `).join('')}
                                    </div>

                                    <div class="border-t border-white/20 pt-4 mb-6">
                                        <div class="flex justify-between text-xl font-bold">
                                            <span class="text-white">Total:</span>
                                            <span class="text-amber-400">$${total}</span>
                                        </div>
                                    </div>

                                    <button onclick="placeOrder()" class="w-full bg-amber-600 text-white py-3 rounded-lg font-semibold hover:bg-amber-700 transition-colors">
                                        Place Order
                                    </button>
                                `}
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderWaiter() {
            const waiterOrders = state.orders.filter(o => o.waiter === state.currentUser?.name);
            return `
                <div class="min-h-screen bg-gradient-to-br from-gray-900 to-gray-800 p-8">
                    <div class="max-w-7xl mx-auto">
                        <div class="flex justify-between items-center mb-8">
                            <h1 class="text-4xl font-bold text-amber-400">Waiter Dashboard</h1>
                            <div class="flex gap-4">
                                <span class="text-white bg-white/10 px-4 py-2 rounded-lg">Welcome, ${state.currentUser?.name}</span>
                                <button onclick="setState({view: 'roleSelect', currentUser: null})" class="bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700">
                                    Logout
                                </button>
                            </div>
                        </div>

                        <div class="bg-white/10 backdrop-blur rounded-xl p-6 mb-8">
                            <h2 class="text-2xl font-bold text-amber-400 mb-6">Current Orders</h2>
                            <div class="overflow-x-auto">
                                <table class="w-full">
                                    <thead>
                                        <tr class="text-amber-400 border-b border-white/20">
                                            <th class="text-left p-4">Table</th>
                                            <th class="text-left p-4">Order ID</th>
                                            <th class="text-left p-4">Items</th>
                                            <th class="text-left p-4">Total</th>
                                            <th class="text-left p-4">Status</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        ${waiterOrders.map(order => `
                                            <tr class="border-b border-white/10 text-white">
                                                <td class="p-4">${order.tableNo}</td>
                                                <td class="p-4">#${order.id}</td>
                                                <td class="p-4">${order.items}</td>
                                                <td class="p-4">$${order.total}</td>
                                                <td class="p-4">
                                                    <span class="px-3 py-1 rounded-full text-sm ${
                                                        order.status === 'pending' ? 'bg-yellow-600' :
                                                        order.status === 'preparing' ? 'bg-blue-600' : 'bg-green-600'
                                                    }">${order.status}</span>
                                                </td>
                                            </tr>
                                        `).join('')}
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <div class="grid grid-cols-3 gap-6">
                            <div class="bg-white/10 backdrop-blur rounded-xl p-6">
                                <div class="text-4xl mb-4">üí∞</div>
                                <h3 class="text-lg text-gray-300 mb-2">Total Earnings</h3>
                                <p class="text-3xl font-bold text-white">$203.50</p>
                            </div>
                            <div class="bg-white/10 backdrop-blur rounded-xl p-6">
                                <div class="text-4xl mb-4">üìà</div>
                                <h3 class="text-lg text-gray-300 mb-2">Commission</h3>
                                <p class="text-3xl font-bold text-white">$125.50</p>
                            </div>
                            <div class="bg-white/10 backdrop-blur rounded-xl p-6">
                                <div class="text-4xl mb-4">‚≠ê</div>
                                <h3 class="text-lg text-gray-300 mb-2">Tips Received</h3>
                                <p class="text-3xl font-bold text-white">$78.00</p>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderOwner() {
            return `
                <div class="min-h-screen bg-gradient-to-br from-gray-900 to-gray-800 p-8">
                    <div class="max-w-7xl mx-auto">
                        <div class="flex justify-between items-center mb-8">
                            <h1 class="text-4xl font-bold text-amber-400">Owner Dashboard</h1>
                            <button onclick="setState({view: 'roleSelect', currentUser: null})" class="bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700">
                                Logout
                            </button>
                        </div>

                        <div class="grid grid-cols-4 gap-6 mb-8">
                            <div class="bg-white/10 backdrop-blur rounded-xl p-6">
                                <h3 class="text-gray-300 mb-2">Total Sales</h3>
                                <p class="text-3xl font-bold text-white">$1,245.50</p>
                            </div>
                            <div class="bg-white/10 backdrop-blur rounded-xl p-6">
                                <h3 class="text-gray-300 mb-2">Total Orders</h3>
                                <p class="text-3xl font-bold text-white">48</p>
                            </div>
                            <div class="bg-white/10 backdrop-blur rounded-xl p-6">
                                <h3 class="text-gray-300 mb-2">Net Profit</h3>
                                <p class="text-3xl font-bold text-white">$622.25</p>
                            </div>
                            <div class="bg-white/10 backdrop-blur rounded-xl p-6">
                                <h3 class="text-gray-300 mb-2">Avg Order</h3>
                                <p class="text-3xl font-bold text-white">$25.95</p>
                            </div>
                        </div>

                        <div class="bg-white/10 backdrop-blur rounded-xl p-6 mb-8">
                            <h2 class="text-2xl font-bold text-amber-400 mb-6">All Orders</h2>
                            <table class="w-full">
                                <thead>
                                    <tr class="text-amber-400 border-b border-white/20">
                                        <th class="text-left p-4">Date</th>
                                        <th class="text-left p-4">Order ID</th>
                                        <th class="text-left p-4">Table</th>
                                        <th class="text-left p-4">Items</th>
                                        <th class="text-left p-4">Total</th>
                                        <th class="text-left p-4">Status</th>
                                        <th class="text-left p-4">Waiter</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    ${state.orders.map(order => `
                                        <tr class="border-b border-white/10 text-white">
                                            <td class="p-4">${order.date}</td>
                                            <td class="p-4">#${order.id}</td>
                                            <td class="p-4">${order.tableNo}</td>
                                            <td class="p-4">${order.items}</td>
                                            <td class="p-4">$${order.total}</td>
                                            <td class="p-4">
                                                <span class="px-3 py-1 rounded-full text-sm ${
                                                    order.status === 'pending' ? 'bg-yellow-600' :
                                                    order.status === 'preparing' ? 'bg-blue-600' : 'bg-green-600'
                                                }">${order.status}</span>
                                            </td>
                                            <td class="p-4">${order.waiter}</td>
                                        </tr>
                                    `).join('')}
                                </tbody>
                            </table>
                        </div>

                        <div class="bg-white/10 backdrop-blur rounded-xl p-6">
                            <h2 class="text-2xl font-bold text-amber-400 mb-6">Waiter Performance</h2>
                            <table class="w-full">
                                <thead>
                                    <tr class="text-amber-400 border-b border-white/20">
                                        <th class="text-left p-4">Name</th>
                                        <th class="text-left p-4">UID</th>
                                        <th class="text-left p-4">Orders</th>
                                        <th class="text-left p-4">Commission</th>
                                        <th class="text-left p-4">Tips</th>
                                        <th class="text-left p-4">Rating</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    ${mockUsers.waiters.map(waiter => `
                                        <tr class="border-b border-white/10 text-white">
                                            <td class="p-4">${waiter.name}</td>
                                            <td class="p-4">${waiter.uid}</td>
                                            <td class="p-4">24</td>
                                            <td class="p-4">$62.50</td>
                                            <td class="p-4">$45.00</td>
                                            <td class="p-4">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</td>
                                        </tr>
                                    `).join('')}
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            `;
        }

        function attachEventListeners() {
            // Global functions needed for onclick handlers
            window.setState = setState;
            window.addToCart = addToCart;
            window.removeFromCart = removeFromCart;
            window.updateQuantity = updateQuantity;
            window.doLogin = function() {
                const uid = document.getElementById('loginUid').value;
                const password = document.getElementById('loginPassword').value;
                handleLogin(uid, password, state.currentRole);
            };
            window.placeOrder = function() {
                alert('Order placed successfully!');
                setState({ cart: [] });
            };
        }

        // Initial render
        render();
    </script>
</body>
</html>